---
title: "Search"
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```
```{css echo=FALSE}
d-title {
    display: none;
  }
.dataTables_wrapper .dataTables_filter{
    float: left;
}
.dataTables_wrapper .dataTables_length{
    float: right;
}
```

```{r searcher, echo=FALSE, message=FALSE, warning=FALSE}
library(readr)
library(DT)
library(tidyverse)

id <- "118r1bHNAH2-YECIsqXeRiW6tH369l0pN"
sessions<-read.csv(paste0("https://docs.google.com/u/0/uc?id=",id,"&export=download"),sep=";")
colnames(sessions)[[1]]="DATE"
id <- "116b9Jys61L6T76nCoFYOS1Y_uMQxhpTU"
papers<-read.csv(paste0("https://docs.google.com/u/0/uc?id=",id,"&export=download"),sep=";")
colnames(papers)[[1]]="IDSESS"

joint<-sessions %>% left_join(papers,by=c("IDSESS"="IDSESS"))
DF<-joint %>% select(DATE,ORARIOLUNGO,IDSESS,LAVORI,Room,CHAIR,DISCUSSANT,Link.to.paper) %>% 
  mutate("When and where"=case_when(
    grepl("CON",IDSESS) ~ paste0(DATE,"&nbsp;&#x2011;&nbsp;", ORARIOLUNGO," </br> ", IDSESS, " Room: "),
    grepl("SPE",IDSESS) ~ paste0(DATE,"&nbsp;&#x2011;&nbsp;", ORARIOLUNGO," </br> ", IDSESS, " Room: ", Room, " </br> Chair:&nbsp;", CHAIR, "</br>Disc.: ", DISCUSSANT),
    grepl("SOL",IDSESS) ~ paste0(DATE,"&nbsp;&#x2011;&nbsp;", ORARIOLUNGO," </br> ", IDSESS, " Room: ", Room, "</br> Chair:&nbsp;", CHAIR),
    grepl("COFFEE",IDSESS) ~ paste0(DATE,"&nbsp;&#x2011;&nbsp;", ORARIOLUNGO," </br> ", IDSESS, " Room: "),
    TRUE ~ paste0(DATE,"&nbsp;&#x2011;&nbsp;", ORARIOLUNGO," </br> ", IDSESS, " Room: ")
      ),
    Contribution=LAVORI,"Click to download"=Link.to.paper) %>% select("When and where",Contribution,"Click to download")

# cb<-JS(
# "$(document).ready(function (){",
#     "var table = $('#example').DataTable({",
#      "  'initComplete': function(){",
#     "      $('#example_filter').detach().appendTo('#newSearch');",
#      "  },",
#    "    'language': { 'search':'' } ",
#   "  });",
# "});"
# )

DT::datatable(DF,rownames = FALSE,escape=FALSE,
             # callback = cb,
              options = list(
                       pageLength = 20
                         )
              )
```
# {-}

<a href="#top">Back to top</a>
